{
  "test_run_id": "20251230_051811",
  "timestamp": "2025-12-30T05:18:18.693550",
  "project_dir": "/home/sparrow/projects/embedded-systems/esp32-bpm-detector",
  "test_results": {},
  "container_logs": {
    "esp32-emulator": "Error collecting logs: Invalid interpolation format for \"command\" option in service \"mock-services\": \"bash -c \" echo '\ud83d\udd27 Starting Mock Services...' && python3 -c ' import http.server import socketserver import json import time import random from urllib.parse import urlparse, parse_qs\nclass MockESP32Handler(http.server.BaseHTTPRequestHandler):\n    def do_GET(self):\n        parsed_path = urlparse(self.path)\n        if parsed_path.path == \\\"/api/bpm\\\":\n            bpm = random.uniform(60, 200)\n            confidence = random.uniform(0.3, 0.95)\n            signal_level = random.uniform(0.2, 0.9)\n            response = {\n                \\\"bpm\\\": round(bpm, 1),\n                \\\"confidence\\\": round(confidence, 2),\n                \\\"signal_level\\\": round(signal_level, 2),\n                \\\"status\\\": \\\"detecting\\\",\n                \\\"timestamp\\\": int(time.time() * 1000)\n            }\n            self.send_response(200)\n            self.send_header(\\\"Content-type\\\", \\\"application/json\\\")\n            self.end_headers()\n            self.wfile.write(json.dumps(response).encode())\n        elif parsed_path.path == \\\"/api/settings\\\":\n            response = {\n                \\\"min_bpm\\\": 60,\n                \\\"max_bpm\\\": 200,\n                \\\"sample_rate\\\": 25000,\n                \\\"fft_size\\\": 1024,\n                \\\"version\\\": \\\"1.0.0-test\\\"\n            }\n            self.send_response(200)\n            self.send_header(\\\"Content-type\\\", \\\"application/json\\\")\n            self.end_headers()\n            self.wfile.write(json.dumps(response).encode())\n        else:\n            self.send_response(404)\n            self.end_headers()\n\n    def log_message(self, format, *args):\n        pass\n\nprint(\\\"\u2705 Mock ESP32 API server starting on port 8080\\\") with socketserver.TCPServer((\\\"\\\", 8080), MockESP32Handler) as httpd:\n    httpd.serve_forever()\n' & MOCK_PID=\\$! &&\npython3 -c ' import asyncio import websockets import json import time import random\nasync def mock_websocket_handler(websocket, path):\n    print(f\\\"WebSocket connection from {websocket.remote_address}\\\")\n    try:\n        async for message in websocket:\n            bpm = random.uniform(60, 200)\n            response = {\n                \\\"type\\\": \\\"bpm_update\\\",\n                \\\"bpm\\\": round(bpm, 1),\n                \\\"timestamp\\\": int(time.time() * 1000)\n            }\n            await websocket.send(json.dumps(response))\n    except websockets.exceptions.ConnectionClosed:\n        pass\n\nprint(\\\"\u2705 Mock WebSocket server starting on port 8000\\\") start_server = websockets.serve(mock_websocket_handler, \\\"0.0.0.0\\\", 8000) asyncio.get_event_loop().run_until_complete(start_server) asyncio.get_event_loop().run_forever() ' & WS_PID=\\$! &&\necho \\\"\u2705 Mock services started (API: 8080, WebSocket: 8000)\\\" && wait \"\n\"\n",
    "integration-tests": "Error collecting logs: Invalid interpolation format for \"command\" option in service \"mock-services\": \"bash -c \" echo '\ud83d\udd27 Starting Mock Services...' && python3 -c ' import http.server import socketserver import json import time import random from urllib.parse import urlparse, parse_qs\nclass MockESP32Handler(http.server.BaseHTTPRequestHandler):\n    def do_GET(self):\n        parsed_path = urlparse(self.path)\n        if parsed_path.path == \\\"/api/bpm\\\":\n            bpm = random.uniform(60, 200)\n            confidence = random.uniform(0.3, 0.95)\n            signal_level = random.uniform(0.2, 0.9)\n            response = {\n                \\\"bpm\\\": round(bpm, 1),\n                \\\"confidence\\\": round(confidence, 2),\n                \\\"signal_level\\\": round(signal_level, 2),\n                \\\"status\\\": \\\"detecting\\\",\n                \\\"timestamp\\\": int(time.time() * 1000)\n            }\n            self.send_response(200)\n            self.send_header(\\\"Content-type\\\", \\\"application/json\\\")\n            self.end_headers()\n            self.wfile.write(json.dumps(response).encode())\n        elif parsed_path.path == \\\"/api/settings\\\":\n            response = {\n                \\\"min_bpm\\\": 60,\n                \\\"max_bpm\\\": 200,\n                \\\"sample_rate\\\": 25000,\n                \\\"fft_size\\\": 1024,\n                \\\"version\\\": \\\"1.0.0-test\\\"\n            }\n            self.send_response(200)\n            self.send_header(\\\"Content-type\\\", \\\"application/json\\\")\n            self.end_headers()\n            self.wfile.write(json.dumps(response).encode())\n        else:\n            self.send_response(404)\n            self.end_headers()\n\n    def log_message(self, format, *args):\n        pass\n\nprint(\\\"\u2705 Mock ESP32 API server starting on port 8080\\\") with socketserver.TCPServer((\\\"\\\", 8080), MockESP32Handler) as httpd:\n    httpd.serve_forever()\n' & MOCK_PID=\\$! &&\npython3 -c ' import asyncio import websockets import json import time import random\nasync def mock_websocket_handler(websocket, path):\n    print(f\\\"WebSocket connection from {websocket.remote_address}\\\")\n    try:\n        async for message in websocket:\n            bpm = random.uniform(60, 200)\n            response = {\n                \\\"type\\\": \\\"bpm_update\\\",\n                \\\"bpm\\\": round(bpm, 1),\n                \\\"timestamp\\\": int(time.time() * 1000)\n            }\n            await websocket.send(json.dumps(response))\n    except websockets.exceptions.ConnectionClosed:\n        pass\n\nprint(\\\"\u2705 Mock WebSocket server starting on port 8000\\\") start_server = websockets.serve(mock_websocket_handler, \\\"0.0.0.0\\\", 8000) asyncio.get_event_loop().run_until_complete(start_server) asyncio.get_event_loop().run_forever() ' & WS_PID=\\$! &&\necho \\\"\u2705 Mock services started (API: 8080, WebSocket: 8000)\\\" && wait \"\n\"\n",
    "mock-services": "Error collecting logs: Invalid interpolation format for \"command\" option in service \"mock-services\": \"bash -c \" echo '\ud83d\udd27 Starting Mock Services...' && python3 -c ' import http.server import socketserver import json import time import random from urllib.parse import urlparse, parse_qs\nclass MockESP32Handler(http.server.BaseHTTPRequestHandler):\n    def do_GET(self):\n        parsed_path = urlparse(self.path)\n        if parsed_path.path == \\\"/api/bpm\\\":\n            bpm = random.uniform(60, 200)\n            confidence = random.uniform(0.3, 0.95)\n            signal_level = random.uniform(0.2, 0.9)\n            response = {\n                \\\"bpm\\\": round(bpm, 1),\n                \\\"confidence\\\": round(confidence, 2),\n                \\\"signal_level\\\": round(signal_level, 2),\n                \\\"status\\\": \\\"detecting\\\",\n                \\\"timestamp\\\": int(time.time() * 1000)\n            }\n            self.send_response(200)\n            self.send_header(\\\"Content-type\\\", \\\"application/json\\\")\n            self.end_headers()\n            self.wfile.write(json.dumps(response).encode())\n        elif parsed_path.path == \\\"/api/settings\\\":\n            response = {\n                \\\"min_bpm\\\": 60,\n                \\\"max_bpm\\\": 200,\n                \\\"sample_rate\\\": 25000,\n                \\\"fft_size\\\": 1024,\n                \\\"version\\\": \\\"1.0.0-test\\\"\n            }\n            self.send_response(200)\n            self.send_header(\\\"Content-type\\\", \\\"application/json\\\")\n            self.end_headers()\n            self.wfile.write(json.dumps(response).encode())\n        else:\n            self.send_response(404)\n            self.end_headers()\n\n    def log_message(self, format, *args):\n        pass\n\nprint(\\\"\u2705 Mock ESP32 API server starting on port 8080\\\") with socketserver.TCPServer((\\\"\\\", 8080), MockESP32Handler) as httpd:\n    httpd.serve_forever()\n' & MOCK_PID=\\$! &&\npython3 -c ' import asyncio import websockets import json import time import random\nasync def mock_websocket_handler(websocket, path):\n    print(f\\\"WebSocket connection from {websocket.remote_address}\\\")\n    try:\n        async for message in websocket:\n            bpm = random.uniform(60, 200)\n            response = {\n                \\\"type\\\": \\\"bpm_update\\\",\n                \\\"bpm\\\": round(bpm, 1),\n                \\\"timestamp\\\": int(time.time() * 1000)\n            }\n            await websocket.send(json.dumps(response))\n    except websockets.exceptions.ConnectionClosed:\n        pass\n\nprint(\\\"\u2705 Mock WebSocket server starting on port 8000\\\") start_server = websockets.serve(mock_websocket_handler, \\\"0.0.0.0\\\", 8000) asyncio.get_event_loop().run_until_complete(start_server) asyncio.get_event_loop().run_forever() ' & WS_PID=\\$! &&\necho \\\"\u2705 Mock services started (API: 8080, WebSocket: 8000)\\\" && wait \"\n\"\n"
  },
  "environment_info": {
    "docker_version": "Docker version 28.5.2, build ecc6942",
    "compose_version": "docker-compose version 1.29.2, build unknown",
    "python_version": "3.12.3 (main, Nov  6 2025, 13:44:16) [GCC 13.3.0]",
    "platform": "linux"
  }
}